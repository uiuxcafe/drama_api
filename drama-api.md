<!-- TOC -->

- [1.新聞區](#1新聞區)
  - [1.1 新聞輪播列表](#11-新聞輪播列表)
  - [1.2 新聞列表](#12-新聞列表)
    - [最新列表](#最新列表)
    - [熱門列表](#熱門列表)
  - [1.3 新聞詳細頁](#13-新聞詳細頁)
- [2. 戲劇區](#2-戲劇區)
  - [2.1 戲劇輪播列表](#21-戲劇輪播列表)
  - [2.2 戲劇列表](#22-戲劇列表)
    - [最新列表](#最新列表-1)
    - [熱門列表](#熱門列表-1)
  - [2.3 戲劇詳細頁](#23-戲劇詳細頁)
  - [2.4 分集大綱列表](#24-分集大綱列表)
- [3. 討論區](#3-討論區)
  - [3.1 討論列表](#31-討論列表)
    - [最新列表](#最新列表-2)
    - [熱門列表](#熱門列表-2)
- [4. 搜尋](#4-搜尋)
  - [4.1 搜尋結果列表](#41-搜尋結果列表)
    - [關鍵字搜尋](#關鍵字搜尋)
    - [Tag 搜尋](#tag-搜尋)
    - [篩選搜尋](#篩選搜尋)
  - [4.2 熱門關鍵字列表](#42-熱門關鍵字列表)
  - [4.3 相關結果列表](#43-相關結果列表)

<!-- /TOC -->

# 1.新聞區
主要文章來源來自「尋夢新聞」、「自產文章」。

## 1.1 新聞輪播列表
_進入新聞首頁時，打此 api，即每天精選 5 篇文章輪播 **（以尋夢新聞點擊高為主）**。_ 

- WF [https://whimsical.com/Syq3vMNvHrJpVEhjVJP3hY]


## 1.2 新聞列表
_進入新聞首頁時，打此 api，即顯示新聞列表。會依據 **最新、熱門** 條件顯示新聞列表。_

- WF [https://whimsical.com/Syq3vMNvHrJpVEhjVJP3hY]

- 條件

    <ol>
    <li> 預設採用 最新發佈時間 排序顯示列表。 </li>
    <li> 一次載入 10篇 內容。</li>
    <li> 熱門列表 等待後端資料足夠再行開發。</li>
    </ol>

### 最新列表
_預設採用 **最新發佈時間順序由上至下** 排列_

- Schema 
  //如果要以最新文章在上要怎麼撰寫？

``` 

    type News {
        id: ID! 
        title: String! //新聞標題
        date: String //新聞日期
        category: [String] //新聞 tag
        preview: String //預覽文字
        img: String //圖片url
    }
    type Query {
        news:[News!]!
    }

```

- Query
 
```

    query {
       news {
          id
          title
          date
          category
          preview
          img 
       }
    }

```

- Server Response

```json
{ 
    "data": {
        "news":[
            {
            "id": 1,
            "title":"閨蜜撕破臉！張韶涵和范瑋琪到底發生過什麼恩怨?",
            "date": "2019-05-23 2:37:56",
            "category": ["愛情", "古裝"],
            "preview": "近段時間張韶涵在歌手的舞台上再次收穫大量關注度，於是她和范瑋琪當年的“翻臉閨蜜恩怨史”又鬧到了檯面上。",
            "img": "https://github.com/uiuxcafe/uiuxcafe_web/blob/master/src/img/service/icon_01.png",
        },
        {
            "id": 2,
            "title":"閨蜜撕破臉！張韶涵和范瑋琪到底發生過什麼恩怨?",
            "date": "2019-05-20 2:37:56",
            "category": ["愛情", "古裝"],
            "preview": "近段時間張韶涵在歌手的舞台上再次收穫大量關注度，於是她和范瑋琪當年的“翻臉閨蜜恩怨史”又鬧到了檯面上。",
            "img": "https://github.com/uiuxcafe/uiuxcafe_web/blob/master/src/img/service/icon_01.png",
        },
        {
            "id": 3,
            "title":"閨蜜撕破臉！張韶涵和范瑋琪到底發生過什麼恩怨?",
            "date": "2019-05-20 2:37:56",
            "category": ["愛情", "古裝"],
            "preview": "近段時間張韶涵在歌手的舞台上再次收穫大量關注度，於是她和范瑋琪當年的“翻臉閨蜜恩怨史”又鬧到了檯面上。",
            "img": "https://github.com/uiuxcafe/uiuxcafe_web/blob/master/src/img/service/icon_01.png",
        },
        ]
    }
}
```

### 熱門列表
_在新聞首頁點選「排序」按鈕時，點選熱門排序，打此 API，即依據一週內新聞按 **尋夢新聞觀看次數由多至少** 排序。_

## 1.3 新聞詳細頁
_點選新聞首頁任一新聞後，打此 api，即取得該篇文章詳細資料。_ 
_採集資源來自：尋夢新聞_

- WF [https://whimsical.com/6peTte9KXein4Za26dMfTQ]

---

# 2. 戲劇區
主要戲劇收集的區間先從 2019/12月~2020/01月。

## 2.1 戲劇輪播列表
_進入戲劇首頁時，打此 api，即每天精選 5 齣戲劇輪播 **（以平台最新上映戲劇為主）**。_

- WF [https://whimsical.com/S597ibFZnpwWm87yw8j6Dv]

## 2.2 戲劇列表
_進入戲劇首頁時，點選「最新」排序時，打此 api，即顯示戲劇列表資料。會依據 **最新、熱門** 條件顯示新聞列表。_

- WF [https://whimsical.com/S597ibFZnpwWm87yw8j6Dv]

- 條件
  <ol>
    <li> 預設採用 **最新更新時間順序由上至下** 排列。</li>
    <li> 一次取得 15 齣戲劇資料。</li>
    <li> 熱門列表等待後端資料齊全後開發。</li>
  </ol>

### 最新列表
_進入戲劇首頁時，打此 api，列表即依據 **最新更新時間順序由上至下** 顯示。_

### 熱門列表
_進入戲劇首頁時，打此 api，戲劇列表即以 **一個月內戲劇按評分（依據酷播爬評分）由高至低** 顯示。_


## 2.3 戲劇詳細頁
_點選戲劇首頁任一齣戲劇後，打此 api，即取得該部戲劇詳細資料。_ 

- WF [https://whimsical.com/9jvUhuBTdx2HFSt3vtLde9]


## 2.4 分集大綱列表
_進入戲劇詳細頁，點選分集大綱，即打此 api，取得該戲劇分集大綱列表。_ 

- WF [https://whimsical.com/9jvUhuBTdx2HFSt3vtLde9]

---

# 3. 討論區
主要戲劇收集的來源來自「PTT」、「Dcard」兩大平台。

## 3.1 討論列表
_進入討論首頁時，點選某一類別打此 api，即取得該類別的討論列表。_

- WF [https://whimsical.com/S597ibFZnpwWm87yw8j6Dv]

- 條件
    <ol>
    <li> 類別分為：美劇、陸劇、韓劇、日劇、台劇 共五類。</li>
    <li> 一頁顯示 10 篇文章。</li>
    <li> 預設採用 最新發佈時間 排序顯示列表。</li>
    <li> 熱門列表 等待後端資料齊全再開發。</li>
    </ol>

### 最新列表
_進入討論首頁時，打此 api，討論列表即依據 **最新發佈時間由上至下** 排序顯示列表。_

- 美劇

- 陸劇

- 韓劇

- 日劇

- 台劇

### 熱門列表
_進入討論首頁時，依據各地區列表點選「熱門」後，打此 api，討論列表即 **以一週內討論文章依留言數由多至少排序**。_

- 美劇

- 陸劇

- 韓劇

- 日劇

- 台劇

<!-- ## 3.2 討論詳細頁（等待我們有發文的機制，再行開發）
_點選討論首頁任一篇文章後，打此 api，即 modal 外連至該網站。_  -->

<!-- ## 3.3 討論輪播列表（等待後端資料齊全後開發）
_進入討論首頁時，依據各地區打此 api，取得該地區每天精選 5 篇熱門討論 **（以平台留言數為主）**。_ -->


---

# 4. 搜尋

## 4.1 搜尋結果列表
_當用戶透過輸入關鍵字、點選 Tag 搜尋戲劇相關資料，輸入完畢點選送出，即可打此 API。_

- 搜尋 WF [https://whimsical.com/6yDEHPB1YTN3Q8T9FU6Gop]
- 篩選 WF [https://whimsical.com/4WBuD65bkGkLVhESwb4pY1]

- 條件
  <ol>
    <li> 依據搜尋關鍵字，分別顯示三種類型的結果列表。</li> 
    <li> 搜尋類型分為三種：新聞、戲劇、討論。</li> 
    <li> 每一類型搜尋結果均回傳 3 筆資料。</li> 
    <li> 結果列表請以 最新發佈時間 排序，由上至下排序。</li> 
  </ol>

### 關鍵字搜尋
_用戶直接在 search bar 關鍵字，點選送出，即可依據關鍵字顯示結果列表。_

- 新聞
- 戲劇
- 討論

### Tag 搜尋
_用戶點選新聞詳細頁的 Tag 後，即可打此 api，即可依據 Tag顯示結果列表。_

- 新聞
- 戲劇
- 討論

### 篩選搜尋
_用戶在戲劇區時，可選擇以類型、地區、年份進行篩選相關戲劇，篩選完畢即可打此 api，更新戲劇列表資料。_

- 類別
- 地區
- 年份

## 4.2 熱門關鍵字列表
_用戶點選搜尋後，打此 api 即顯示近期熱門搜尋關鍵字，用戶可點選任一關鍵字進行搜尋。_

- 條件
  <ol>
    <li>目前採用人工方式，每週（每天）更新。</li>
    <li>一次顯示 10 個關鍵字。</li>
  </ol>
## 4.3 相關結果列表
當用戶進入新聞、戲劇詳細頁時，打此 api 下方會顯示相關新聞、戲劇、討論結果列表。

- WF [https://whimsical.com/9jvUhuBTdx2HFSt3vtLde9]

- 條件
  <ol>
    <li>每一類型搜尋結果均回傳 3 筆資料。</li>
    <li>結果列表請以 最新發佈時間 排序，由上至下排序。</li>
  </ol>

- 相關新聞
- 相關戲劇
- 相關討論








